@import '../../../../shared/styles/component-mixins';

.wallet-item {
  @include unified-list-item;
  @include mobile-list-item-adjustments;
  border-left: 4px solid var(--wallet-color, var(--pockito-primary));


  // Override icon to use wallet color
  .item-icon .icon-small {
    border-color: var(--wallet-color-light, var(--pockito-border-light));
  }

  // Special indicator styling for default wallet
  .item-info .meta .special-indicator {
    @include status-badge(var(--pockito-warning-light), var(--pockito-warning-dark));
  }

  // Goal progress uses wallet color
  .item-balance .goal-progress-mobile .progress-bar .progress-fill {
    background: var(--wallet-color-gradient, var(--pockito-primary-gradient));
  }
}

// More specific targeting for the three-dot menu button to override PrimeNG styles
:host ::ng-deep {
  .action-buttons .menu-btn {
    width: 2rem !important;
    height: 2rem !important;
    border-radius: $border-radius-sm !important;
    color: var(--wallet-color, var(--pockito-primary)) !important;
    transition: all 0.2s ease !important;

    &:hover {
      background: var(--wallet-color-light, var(--pockito-primary-light)) !important;
      color: var(--wallet-color-dark, var(--pockito-primary-dark)) !important;
      transform: scale(1.05) !important;
    }

    &:focus {
      box-shadow: 0 0 0 2px var(--wallet-color, var(--pockito-primary)) !important;
    }

    .p-button-icon {
      color: inherit !important;
    }
  }
}

// Menu styling to match wallet card actions
:host ::ng-deep {
  .wallet-action-menu {
    .p-menu {
      border-radius: $border-radius-md;
      box-shadow: $shadow-lg;
      border: 1px solid var(--pockito-border-light);
      padding: $spacing-xs 0;
      min-width: 10rem;

      .p-menuitem {
        .p-menuitem-link {
          padding: $spacing-sm $spacing-md;
          border-radius: $border-radius-xs;
          margin: 0.125rem $spacing-sm;
          transition: all 0.2s ease;

          &:hover {
            background: var(--pockito-gray-50);
          }

          .p-menuitem-icon {
            margin-right: $spacing-sm;
            font-size: $font-size-sm;
          }

          .p-menuitem-text {
            font-size: $font-size-sm;
            font-weight: $font-weight-medium;
          }
        }

        &.p-menuitem-danger {
          .p-menuitem-link {
            color: var(--pockito-error);

            &:hover {
              background: var(--pockito-error-light);
              color: var(--pockito-error-dark);
            }
          }
        }

        &.p-disabled {
          .p-menuitem-link {
            color: var(--pockito-gray-400);
            cursor: default;

            &:hover {
              background: transparent;
            }
          }
        }
      }

      .p-menu-separator {
        margin: $spacing-xs $spacing-sm;
        border-top: 1px solid var(--pockito-border-light);
      }
    }
  }
}
