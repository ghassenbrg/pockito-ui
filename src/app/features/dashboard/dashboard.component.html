<div class="dashboard">
  <!-- Page Header -->
  <app-page-header 
    [config]="headerConfig"
    (buttonClick)="createProject()"
    (secondaryButtonClick)="onSecondaryButtonClick()"
  ></app-page-header>

  <!-- Statistics Cards -->
  <div class="stats-grid">
    <p-card styleClass="stat-card">
      <ng-template pTemplate="header">
        <div class="stat-icon stat-icon--projects">
          <i class="pi pi-folder text-2xl"></i>
        </div>
      </ng-template>
      <ng-template pTemplate="content">
        <div class="stat-content">
          <h3 class="stat-value">{{ totalProjects }}</h3>
          <p class="stat-label">Total Projects</p>
          <div class="stat-change stat-change--positive">
            <i class="pi pi-arrow-up text-sm"></i>
            <span>+12%</span>
          </div>
        </div>
      </ng-template>
    </p-card>

    <p-card styleClass="stat-card">
      <ng-template pTemplate="header">
        <div class="stat-icon stat-icon--active">
          <i class="pi pi-check-circle text-2xl"></i>
        </div>
      </ng-template>
      <ng-template pTemplate="content">
        <div class="stat-content">
          <h3 class="stat-value">{{ activeProjects }}</h3>
          <p class="stat-label">Active Projects</p>
          <div class="stat-change stat-change--positive">
            <i class="pi pi-arrow-up text-sm"></i>
            <span>+8%</span>
          </div>
        </div>
      </ng-template>
    </p-card>

    <p-card styleClass="stat-card">
      <ng-template pTemplate="header">
        <div class="stat-icon stat-icon--completed">
          <i class="pi pi-check text-2xl"></i>
        </div>
      </ng-template>
      <ng-template pTemplate="content">
        <div class="stat-content">
          <h3 class="stat-value">{{ completedProjects }}</h3>
          <p class="stat-label">Completed</p>
          <div class="stat-change stat-change--positive">
            <i class="pi pi-arrow-up text-sm"></i>
            <span>+15%</span>
          </div>
        </div>
      </ng-template>
    </p-card>

    <p-card styleClass="stat-card">
      <ng-template pTemplate="header">
        <div class="stat-icon stat-icon--tasks">
          <i class="pi pi-list text-2xl"></i>
        </div>
      </ng-template>
      <ng-template pTemplate="content">
        <div class="stat-content">
          <h3 class="stat-value">{{ pendingTasks }}</h3>
          <p class="stat-label">Pending Tasks</p>
          <div class="stat-change stat-change--negative">
            <i class="pi pi-arrow-down text-sm"></i>
            <span>-3%</span>
          </div>
        </div>
      </ng-template>
    </p-card>
  </div>

  <!-- Main Content Grid -->
  <div class="content-grid">
    <!-- Recent Projects -->
    <p-card styleClass="content-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <h2 class="card-title">Recent Projects</h2>
          <a href="#" class="card-link">View All</a>
        </div>
      </ng-template>
      <ng-template pTemplate="content">
        <div class="project-list" *ngIf="recentProjects.length > 0; else noProjects">
          <div class="project-item" *ngFor="let project of recentProjects">
            <div class="project-info">
              <h3 class="project-name">{{ project.name }}</h3>
              <p class="project-description">{{ project.description }}</p>
              <div class="project-meta">
                <p-tag 
                  [value]="project.status" 
                  [severity]="getStatusSeverity(project.status)"
                ></p-tag>
                <span class="project-date">{{ project.lastUpdated | date:'shortDate' }}</span>
              </div>
            </div>
            <div class="project-actions">
              <p-button 
                label="View" 
                styleClass="p-button-outlined p-button-sm"
                (onClick)="viewProject(project.id)"
              ></p-button>
            </div>
          </div>
        </div>
        <ng-template #noProjects>
          <div class="empty-state">
            <i class="pi pi-folder text-4xl text-color-secondary"></i>
            <h3 class="empty-title">No projects yet</h3>
            <p class="empty-description">Get started by creating your first project.</p>
            <p-button 
              label="Create Project" 
              styleClass="p-button-primary"
              (onClick)="createProject()"
            ></p-button>
          </div>
        </ng-template>
      </ng-template>
    </p-card>

    <!-- Quick Actions -->
    <p-card styleClass="content-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <h2 class="card-title">Quick Actions</h2>
        </div>
      </ng-template>
      <ng-template pTemplate="content">
        <div class="quick-actions">
          <p-button 
            label="New Project" 
            icon="pi pi-plus" 
            styleClass="p-button-outlined action-btn"
            (onClick)="createProject()"
          ></p-button>
          
          <p-button 
            label="Import Project" 
            icon="pi pi-download" 
            styleClass="p-button-outlined action-btn"
            (onClick)="importProject()"
          ></p-button>
          
          <p-button 
            label="View Analytics" 
            icon="pi pi-chart-bar" 
            styleClass="p-button-outlined action-btn"
            (onClick)="viewAnalytics()"
          ></p-button>
          
          <p-button 
            label="Settings" 
            icon="pi pi-cog" 
            styleClass="p-button-outlined action-btn"
            (onClick)="openSettings()"
          ></p-button>
        </div>
      </ng-template>
    </p-card>
  </div>

  <!-- Activity Feed -->
  <p-card styleClass="content-card full-width">
    <ng-template pTemplate="header">
      <div class="card-header">
        <h2 class="card-title">Recent Activity</h2>
        <a href="#" class="card-link">View All</a>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="activity-list" *ngIf="recentActivity.length > 0; else noActivity">
        <div class="activity-item" *ngFor="let activity of recentActivity">
          <div class="activity-icon" [class]="'activity-icon--' + activity.type">
            <i class="pi" [class]="getActivityIcon(activity.type)"></i>
          </div>
          <div class="activity-content">
            <p class="activity-text">{{ activity.description }}</p>
            <span class="activity-time">{{ activity.timestamp | date:'short' }}</span>
          </div>
        </div>
      </div>
      <ng-template #noActivity>
        <div class="empty-state">
          <i class="pi pi-clock text-4xl text-color-secondary"></i>
          <h3 class="empty-title">No recent activity</h3>
          <p class="empty-description">Activity will appear here as you use the application.</p>
        </div>
      </ng-template>
    </ng-template>
  </p-card>
</div>
