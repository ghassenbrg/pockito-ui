<div
  class="category-card"
  [class.inactive]="!isCategoryActive()"
  [style.--category-color]="getCategoryColor()"
  [style.--category-color-light]="getCategoryColorVariants().light"
  [style.--category-color-dark]="getCategoryColorVariants().dark"
  [style.--category-color-gradient]="getCategoryColorVariants().gradient"
>
  <div class="card-header">
    <div class="icon-container">
      <img
        [src]="getCategoryIconUrl()"
        [alt]="category.name"
        class="icon"
        (error)="onImageError($event)"
      />
      <div class="icon-overlay" *ngIf="!isCategoryActive()">
        <i class="pi pi-pause"></i>
      </div>
    </div>
    <div class="info">
      <h3 class="title">{{ category.name }}</h3>
      <span class="subtitle">{{ getCategoryTypeLabel() | translate }}</span>
    </div>
    <div class="status">
      <span class="status-badge" [class.active]="isCategoryActive()">
        {{ isCategoryActive() ? ('category.status.active' | translate) : ('category.status.inactive' | translate) }}
      </span>
    </div>
  </div>

  <div class="card-content">
    <div class="details">
      <div class="detail-row" *ngIf="hasParent()">
        <span class="label">{{ 'category.parent' | translate }}:</span>
        <span class="value">{{ category.parentCategoryName }}</span>
      </div>
      <div class="detail-row" *ngIf="hasChildren()">
        <span class="label">{{ 'category.children' | translate }}:</span>
        <span class="value">{{ category.childCount }}</span>
      </div>
    </div>
  </div>

  <div class="card-actions">
    <button 
      pButton 
      class="action-btn view-btn" 
      (click)="onViewCategory()" 
      [pTooltip]="'category.actions.view' | translate"
      tooltipPosition="top"
      icon="pi pi-eye"
    ></button>
    <button 
      pButton 
      class="action-btn edit-btn" 
      (click)="onEditCategory()" 
      [pTooltip]="'category.actions.edit' | translate"
      tooltipPosition="top"
      icon="pi pi-pencil"
    ></button>
    <button 
      pButton 
      class="action-btn delete-btn" 
      (click)="onDeleteCategory()" 
      [disabled]="hasChildren()"
      [pTooltip]="hasChildren() ? ('category.actions.cannot_delete_has_children' | translate) : ('category.actions.delete' | translate)"
      tooltipPosition="top"
      icon="pi pi-trash"
    ></button>
  </div>
</div>
