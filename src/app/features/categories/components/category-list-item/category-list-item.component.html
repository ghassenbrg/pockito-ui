<div
  class="category-item"
  (click)="onViewCategory()"
  [title]="('category.click_to_view' | translate) + ' ' + category.name"
  [style.--category-color]="getCategoryColor()"
  [style.--category-color-light]="getCategoryColorVariants().light"
  [style.--category-color-dark]="getCategoryColorVariants().dark"
  [style.--category-color-gradient]="getCategoryColorVariants().gradient"
>
  <div class="item-icon">
    <img
      [src]="getCategoryIconUrl()"
      [alt]="category.name"
      class="icon-small"
      (error)="onImageError($event)"
    />
  </div>
  
  <div class="item-info">
    <h3 class="title">{{ category.name }}</h3>
    <div class="meta">
      <span class="type">{{ getCategoryTypeLabel() | translate }}</span>
      <span class="status-indicator" [class.active]="isCategoryActive()">
        {{ isCategoryActive() ? ('category.status.active' | translate) : ('category.status.inactive' | translate) }}
      </span>
    </div>
    <div class="details-mobile">
      <span *ngIf="hasParent()" class="detail-item">
        {{ 'category.parent' | translate }}: {{ category.parentCategoryName }}
      </span>
      <span *ngIf="hasChildren()" class="detail-item">
        {{ 'category.children' | translate }}: {{ category.childCount }}
      </span>
    </div>
  </div>
  
  <div class="item-color">
    <div class="color-indicator" [style.background-color]="getCategoryColor()"></div>
  </div>
  
  <!-- action buttons -->
  <div class="action-buttons">
    <p-button 
      icon="pi pi-ellipsis-v" 
      styleClass="p-button-text p-button-rounded menu-btn"
      (click)="menu.toggle($event); $event.stopPropagation()"
      [pTooltip]="'category.actions.menu' | translate"
      tooltipPosition="left"
    ></p-button>
    <p-menu 
      #menu 
      [model]="menuItems" 
      [popup]="true"
      styleClass="category-action-menu"
      appendTo="body"
    ></p-menu>
  </div>
</div>
